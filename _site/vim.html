<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         BeiYuu
    * Revised:        Yscc
    -->
    <meta charset="utf-8" />
    <title>vim | 盐水冲茶</title>
    <meta name="author" content="Mukosame" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Everything about Yscc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">盐水冲茶的个人小站</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/yanshuicc" target="_blank" style="margin-left:-5px;"><img src=
			"/images/git.png" alt="" width="24"/></a>
            <a href="https://www.douban.com/people/90512818/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
            <a href="http://www.zhihu.com/people/yan-shui-chong-cha" target="_blank" style="text-align:right"><img src="http://www.zhihu.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://weibo.com/u/2852567272" target="_blank" style="text-align:right"><img src="http://weibo.com/favicon.ico" alt="" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/vim" title="vim">vim</a></h1>
        <p class="entry-date">2015-09-21</p>
        <hr />

<p>##常用命令
####替换命令</p>

<p>css文件调整格式</p>

<p>所以{后面添加换行</p>

<p>:%s/{/{\r /g</p>

<p>所有的}前面后面都添加换行</p>

<p>:%s/}/\r}\r /g</p>

<p>自动对齐
gg=G</p>

<hr />

<p>##我的配置文件</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	filetype on								"文件类型检测
	filetype indent on				"缩进
	filetype plugin on				"允许插件
	filetype plugin indent on	"自动补全

	set shiftwidth=2					"

	set tabstop=2							"tab等同四个空格

	set number								"启用行号

	set mouse=a								"启用鼠标

	set backup								"备份

	set backupext=~						"备份后缀

	set cul										"高亮标尺

	set ruler									"显示标尺

	set foldenable						"启动折叠

	set clipboard+=unnamed		"共享粘贴板

	set ai!										"自动缩进

	set smartindent						"只能自动缩进

	set foldmethod=indent			"依标记折叠

	set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936

	""""""""""""""""""华丽的引号"""""""""""""""""""""""""

	"插件配置

	"taglist
	"http://www.vim.org/scripts/script.php?script_id=273
	let Tlist_Show_One_File=1
	let Tlist_Exit_OnlyWindow=1

	"WinManager
	"http://www.vim.org/scripts/script.php?script_id=95
	let g:winManagerWindowLayout='FileExplorer|TagList'
	nmap wm :WMToggle&lt;cr&gt;

	"MiniBufExplorer
	"http://www.vim.org/scripts/script.php?script_id=159
	let g:miniBufExplMapCTabSwitchBufs = 1
	let g:miniBufExplMapWindowNavVim = 1
	let g:miniBufExplMapWindowNavArrows = 1
</code></pre>
</div>

<hr />

<p>##我的插件</p>

<p>####中文文档</p>

<p>http://nchc.dl.sourceforge.net/sourceforge/vimcdoc/vimcdoc-1.5.0.tar.gz</p>

<p>安装</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	$ sudo ./vimcdoc.sh -i
</code></pre>
</div>

<p>set helplang=cn
set encoding=utf-8</p>

<p>####Ctags
http://ctags.sourceforge.net</p>

<p>安装</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	$ tar -xzvf ctags-5.6.tar.gz
	$ cd ctags-5.6
	$ make
	$ sudo make install   // 需要root权限
</code></pre>
</div>

<p>使用</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	$ cd ./src
	$ ctags -R
	:set tags=./src/tags
</code></pre>
</div>

<p>&lt; C-]&gt; 跳转定义</p>

<p>&lt; C-T&gt; 返回</p>

<p>####TagList
http://www.vim.org/scripts/script.php?script_id=273</p>

<p>安装</p>

<p>~/.vim目录下解压taglist.zip</p>

<p>配置</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	let Tlist_Show_One_File=1
	let Tlist_Exit_OnlyWindow=1
</code></pre>
</div>

<p>使用</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	:Tlist
	:help taglist.txt
</code></pre>
</div>

<p>####WinManager
下载</p>

<p>http://www.vim.org/scripts/script.php?script_id=95</p>

<p>安装</p>

<p>./vim 目录下解压vinmanager.zip</p>

<p>配置</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	let g:winManagerWindowLayout='FileExplorer|TagList'
	nmap wm :WMToggle&lt;cr&gt;

	:help winmanager
</code></pre>
</div>

<p>####Cscope
下载</p>

<p>http://cscope.sourceforge.net</p>

<p>安装</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	$ ./configure
	$ sudo apt-get install libncurses5-dev flex bison
	$ make
	$ sudo make install
</code></pre>
</div>

<p>配置</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	:set cscopequickfix=s-,c-,d-,i-,t-,e-
</code></pre>
</div>

<p>使用</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	$ cd ./src
	$ cscope -Rbq
	$ ll cscope.*
	-rw-rw-r-- 1 wooin wooin 1.1M 2007-09-30 10:56 cscope.in.out
	-rw-rw-r-- 1 wooin wooin 6.7M 2007-09-30 10:56 cscope.out
	-rw-rw-r-- 1 wooin wooin 5.1M 2007-09-30 10:56 cscope.po.out

	$ cd src
	$ vim main.c

	:cs add ./src/cscope.out ./src
	:cs find g main	查找定义
	:cs find c main 查找调用
	:cw 打开quickfix
	:cn	上一个结果
	:cp 下一个结果

	:help if_cscop.txt
	:help quickfix
</code></pre>
</div>

<p>####MiniBufExplorer
下载</p>

<p>http://www.vim.org/scripts/script.php?script_id=159</p>

<p>安装</p>

<p>minibufexpl.vim放到~/.vim/plugin中</p>

<p>配置</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	let g:miniBufExplMapCTabSwitchBufs = 1
	&lt; C-Tab&gt;	向前循环切换到每个buffer上,并在但前窗口打开
	&lt; C-S-Tab&gt;	向后循环切换到每个buffer上,并在但前窗口打开

	let g:miniBufExplMapWindowNavVim = 1
	let g:miniBufExplMapWindowNavArrows = 1
</code></pre>
</div>

<p>&lt; C-w,h j k l&gt;向”左,下,上,右”切换窗口.
&lt; C-箭头键&gt;切换到上下左右窗口中去</p>

<p>####A
下载</p>

<p>http://www.vim.org/scripts/script.php?script_id=31</p>

<p>安装</p>

<p>a.vim 放到 ~./vim/plugin中</p>

<p>使用</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	:A	在新Buffer中切换到c/h文件
	:AS	横向分割窗口并打开c/h文件
	:AV	纵向分割窗口并打开c/h文件
	:AT	新建一个标签页并打开c/h文件
</code></pre>
</div>

<p>####Grep
下载</p>

<p>http://www.vim.org/scripts/script.php?script_id=311</p>

<p>安装</p>

<p>grep.vim 放到~/.vim/plugin中</p>

<p>使用</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	Search for pattern: /&lt;FEAT_QUICKFIX/&gt;
	Search in files:*.c *.h
</code></pre>
</div>

<p>####VisualMark
下载</p>

<p>http://www.vim.org/scripts/script.php?script_id=1026</p>

<p>安装</p>

<p>visualmark.vim 放到~/.vim/plugin中</p>

<p>使用</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	mm
	:help Mark
</code></pre>
</div>

<hr />

<p>##脚本部分语法</p>

<p>####定义变量
s局部变量,g全局变量,w窗口局部变量,b当前缓冲区</p>

<table>
  <tbody>
    <tr>
      <td>let [b</td>
      <td>s</td>
      <td>g</td>
      <td>w</td>
      <td>g</td>
      <td>v]:{var}={exp}</td>
    </tr>
  </tbody>
</table>

<p>定义局部变量</p>

<p>setlocal</p>

<p>####删除变量</p>

<p>unlet[!] {var}</p>

<p>####显示</p>

<p>echo</p>

<p>####循环</p>

<div class="highlighter-rouge"><pre class="highlight"><code>while {condition}
{exp}
endwhile
</code></pre>
</div>

<p>####条件</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if{condition}
{statements}
endif
</code></pre>
</div>

<p>####匹配字符串</p>

<p>=~(!~)</p>

<p>####变量</p>

<p>$NAME	环境变量</p>

<p>&amp;name	选项</p>

<p>@r		寄存器</p>

<p>####执行命令</p>

<p>execute “”</p>

<p>normal ““(execute “normal “.normal_commands)</p>

<p>####计算表达式的值</p>

<p>eval()</p>

<p>####终止脚本</p>

<p>finish</p>

<p>####使用函数</p>

<p>call fun(…)</p>

<p>####常用函数</p>

<p>####定义函数
函数名大写字母开始，a:{var}调用函数参数,!重定义已存在函数</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function{!} {name}({var},...) {range}
...
endfunction
</code></pre>
</div>

<p>####删除函数
delfunction {fun}</p>

<p>####引用</p>

<p>function(‘{fun}’)</p>

<p>####列表</p>

<p>let a=[’’,’’,’’]</p>

<p>+</p>

<p>call extend({var},{var})</p>

<p>call add({var},’’)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>for n in a
...
endfor
</code></pre>
</div>

<p>####字典</p>

<p>let a={‘’:’’,’’:’’,’’:’’}</p>

<p>au{tocmd} [group] {event} {pat} {nested} {cmd}</p>

<hr />

<p>##内置脚本</p>


    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/loser">End&Begin</a></li>
        
        </ul>

        <h2>Dump</h2>
        <ul class="artical-list">
        
            <li><a href="/python-design">python语言的设计记录</a></li>
        
            <li><a href="/Logistic">Logistic函数</a></li>
        
            <li><a href="/lC_6_ZigZag_Conversion">leetcode 6 ZigZag Conversion</a></li>
        
            <li><a href="/VBA">Excel合并功能记录</a></li>
        
            <li><a href="/python-matplotlib">python matplotlib库和numpy库的基本操作记录</a></li>
        
            <li><a href="/move-average-method">移动平均法</a></li>
        
            <li><a href="/LineClassfier">线性分类器</a></li>
        
            <li><a href="/LC_5_Longest_Palindromic_Substring">leetcode 5 Longest Palindromic Substring</a></li>
        
            <li><a href="/paper-Visual-Attribute-Transfer-through-Deep-Image-Analogy">论文《Visual Attribute Transfer through Deep Image Analogy》阅读记录</a></li>
        
            <li><a href="/config_piwik_web_analytics">配置Piwik站长统计</a></li>
        
            <li><a href="/bwh_ss">ubuntu配置ss服务端的记录</a></li>
        
            <li><a href="/iterative_method_of_linear_equations">线性方程组的迭代求解</a></li>
        
            <li><a href="/algorithm_complexity">算法复杂度</a></li>
        
            <li><a href="/LC_4_Median_of_Two_Sorted_Arrays">leetcode 4 Median of Two Sorted Arrays</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/go">围棋</a></li>
        
            <li><a href="/test">前端绘图测试</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
	<script type="text/javascript" color="0,0,255" opacity='0.7' zIndex="-2" count="70" src="/js/canvas-nest.js"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	<!-- Piwik -->
	<script type="text/javascript">
	  var _paq = _paq || [];
	  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
		var u="//chenpei.science/";
		_paq.push(['setTrackerUrl', u+'piwik.php']);
		_paq.push(['setSiteId', '1']);
		var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	  })();
	</script>
	<!-- End Piwik Code -->
</body>
</html>
