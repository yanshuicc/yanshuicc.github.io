<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         BeiYuu
    * Revised:        Yscc
    -->
    <meta charset="utf-8" />
    <title>leetcode 4 Median of Two Sorted Arrays | 盐水冲茶</title>
    <meta name="author" content="Mukosame" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Everything about Yscc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">盐水冲茶的个人小站</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/yanshuicc" target="_blank" style="margin-left:-5px;"><img src=
			"/images/git.png" alt="" width="24"/></a>
            <a href="https://www.douban.com/people/90512818/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
            <a href="http://www.zhihu.com/people/yan-shui-chong-cha" target="_blank" style="text-align:right"><img src="http://www.zhihu.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://weibo.com/u/2852567272" target="_blank" style="text-align:right"><img src="http://weibo.com/favicon.ico" alt="" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/LC_4_Median_of_Two_Sorted_Arrays" title="leetcode 4 Median of Two Sorted Arrays">leetcode 4 Median of Two Sorted Arrays</a></h1>
        <p class="entry-date">2017-05-03</p>
        <h3>Description</h3>

<p>There are two sorted arrays nums1 and nums2 of size m and n respectively.</p>

<p>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p>

<p>Example 1:</p>

<pre><code>nums1 = [1, 3]
nums2 = [2]
</code></pre>

<p>The median is 2.0</p>

<p>Example 2:</p>

<pre><code>nums1 = [1, 2]
nums2 = [3, 4]
</code></pre>

<p>The median is (2 + 3)/2 = 2.5</p>

<hr />

<p>题目意思大概是，在两个排好序的数组中，查找中位数。如下：</p>

<p>[1,2,3,4,5]
[6,7,8,9]
中位数为5</p>

<p>若是偶数个数，则去中间两个数的平均值。如下：</p>

<p>[1,2,3,4,5]
[6,7,8,9,10]
中位数为5.5</p>

<p>题目也可以置换为求两个排好序的数组中，第k大的数（k为两个数组的长度和除以2），因为时间要求是log(m+n)，所以使用二分查找。</p>

<p>在一个数组中套用二分查找很简单，递归即可。（当然一个数组也没必要用二分了，已经是有序数组）</p>

<p>在两个数组中套用二分查找，需要考虑的情况比较复杂。</p>

<p>不妨令数组1的长度小于等于数组2的长度</p>

<p>（1）k为1或者数组1的长度为0时，为递归出口，可以直接找到两个数组中第k大的数。</p>

<p>（2）将k一分为二，在数组1和数组2中分别找第k/2大的数。如果数组1的长度小于k/2，就直接调用数组1的长度</p>

<p>（3）如果pa的值 &lt; pb的值，那证明第K个数肯定不会出现在pa之前，递归，把A数组pa之前的砍掉，同理递归砍B数组。</p>

<p>代码如下：</p>

<pre><code>    # coding:utf-8

    class Solution(object):
        def findK(self, nums1, nums2, k):
            if len(nums1) &gt; len(nums2):
                return self.findK(nums2, nums1, k)
            if len(nums1) == 0 :
                return nums2[k - 1]
            if k == 1:
                return min(nums1[0], nums2[0])
            pa = min(k / 2, len(nums1))
            pb = k - pa

            if nums1[pa - 1] &lt; nums2[pb - 1]:
                return self.findK(nums1[pa:], nums2, k - pa)
            elif nums1[pa - 1] &gt; nums2[pb - 1]:
                return self.findK(nums1, nums2[pb:], k - pb)
            else:
                return nums1[pa - 1]

        def findMedianSortedArrays(self, nums1, nums2):
            len2 = len(nums1)+len(nums2)
            if len2 % 2 == 1:
                k = len2 / 2 + 1
                return self.findK(nums1, nums2, k)
            else:
                s1 = self.findK(nums1, nums2,len2 / 2)
                s2 = self.findK(nums1, nums2, len2 / 2 + 1)
                return (float)(s1 + s2) / 2

    # 测试用例
    if __name__ == "__main__":
        so = Solution()
        print so.findMedianSortedArrays([], [1])
        print so.findMedianSortedArrays([1], [])
        print so.findMedianSortedArrays([1], [2])
        print so.findMedianSortedArrays([1], [1])
        print so.findMedianSortedArrays([1, 3], [2])
        print so.findMedianSortedArrays([1], [2, 3])
        print so.findMedianSortedArrays([1, 2], [3, 4])
        print so.findMedianSortedArrays([1, 3, 5, 7, 9, 11], [2, 4, 6, 8, 10])
        print so.findMedianSortedArrays([1, 3, 5, 7, 9, 11], [2, 4, 6, 8, 10, 12])
        print so.findMedianSortedArrays([1, 11], [2, 3, 4, 5, 6, 7, 8, 9, 10])
        print so.findMedianSortedArrays([1, 11], [2, 3, 4, 5, 6, 7, 8, 9, 10, 12])
</code></pre>

    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
        </ul>

        <h2>Dump</h2>
        <ul class="artical-list">
        
            <li><a href="/LC_4_Median_of_Two_Sorted_Arrays">leetcode 4 Median of Two Sorted Arrays</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
	<script type="text/javascript" color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>
</body>
</html>
