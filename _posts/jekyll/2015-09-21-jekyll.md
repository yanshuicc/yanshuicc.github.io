---
layout: post
title: jekyll
---

#网站结构



#评论系统

评论使用的[多说评论](duoshuo.com)

先注册账号，获得short_name(yscc)

添加到post模板中。

./_includes/JB/comments-probiders/duoshuo

	<!-- Duoshuo Comment BEGIN -->
		<div class="ds-thread"{ % if page.wordpress_id % } data-thread-key="{{page.wordpress_id}}"{ % endif % }></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:'{{ site.JB.comments.duoshuo.short_name }}'};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = 'http://static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			|| document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
	<!-- Duoshuo Comment END -->

加载duoshuo模块。
./_include/JB/comments


	{ % if site.JB.comments.provider and page.comments != false % }

	{ % case site.JB.comments.provider % }
	{ % when "disqus" % }
		{ % include JB/comments-providers/disqus % }
	{ % when "livefyre" % }
		{ % include JB/comments-providers/livefyre % }
	{ % when "intensedebate" % }
		{ % include JB/comments-providers/intensedebate % }
	{ % when "facebook" % }
		{ % include JB/comments-providers/facebook % }
	{ % when "duoshuo" % }
		{ % include JB/comments-providers/duoshuo % }
	{ % when "custom" % }
		{ % include custom/comments % }
	{ % endcase % }

	{ % endif % }

./_config.yml
不能用tab缩进，要用空格。
  
	...
	comments :
		provider : disqus
		disqus :
			short_name : jekyllbootstrap
		livefyre :
			site_id : 123
			intensedebate :
			account : 123abc
		facebook :
			appid : 123
			num_posts: 5
			width: 580
			colorscheme: light
		duoshuo :
			short_name : jekyllbootstrap
	...
